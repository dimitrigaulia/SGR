<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>FichaPro</title>
  <base href="/">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/png" href="logo_preto.png" media="(prefers-color-scheme: light)" id="favicon-light">
  <link rel="icon" type="image/png" href="logo_branco.png" media="(prefers-color-scheme: dark)" id="favicon-dark">
  <link rel="icon" type="image/png" href="logo_preto.png" id="favicon-default">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
  <script>
    // Atualizar favicon baseado no tema
    function updateFavicon() {
      const savedTheme = localStorage.getItem('themeMode');
      const systemTheme = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
      const theme = savedTheme || systemTheme;
      const favicon = document.getElementById('favicon-default');
      if (favicon) {
        favicon.href = theme === 'dark' ? 'logo_branco.png' : 'logo_preto.png';
      }
    }
    
    // Atualizar ao carregar
    updateFavicon();
    
    // Observar mudanças no tema do sistema
    window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', updateFavicon);
    
    // Observar mudanças no localStorage (quando o tema da aplicação muda)
    const originalSetItem = localStorage.setItem;
    localStorage.setItem = function(key, value) {
      originalSetItem.apply(this, arguments);
      if (key === 'themeMode') {
        updateFavicon();
      }
    };
    
    // Atualizar quando o tema mudar (usando MutationObserver para detectar mudanças na classe)
    const observer = new MutationObserver(() => {
      updateFavicon();
    });
    observer.observe(document.documentElement, {
      attributes: true,
      attributeFilter: ['class']
    });
  </script>
</head>
<body>
  <app-root></app-root>
</body>
</html>
